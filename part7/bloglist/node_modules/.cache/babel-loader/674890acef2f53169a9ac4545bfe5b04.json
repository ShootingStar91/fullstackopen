{"ast":null,"code":"import axios from 'axios';\nconst baseUrl = '/api/blogs';\nlet token;\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst setToken = newToken => {\n  token = 'bearer ' + newToken;\n};\n\nconst postBlog = (title, author, url) => {\n  const request = axios.post(baseUrl, {\n    title,\n    author,\n    url\n  }, {\n    headers: {\n      Authorization: token\n    }\n  });\n  return request.then(response => response.data);\n};\n\nconst likeBlog = (id, likes) => {\n  const request = axios.put(baseUrl + '/' + id, {\n    likes: likes + 1\n  });\n  return request.then(response => response.data);\n};\n\nconst deleteBlog = id => {\n  const request = axios.delete(baseUrl + '/' + id, {\n    headers: {\n      Authorization: token\n    }\n  });\n  return request.then(response => response.data);\n};\n\nconst service = {\n  getAll,\n  setToken,\n  postBlog,\n  likeBlog,\n  deleteBlog\n};\nexport default service;","map":{"version":3,"sources":["/home/arttu/devaus/fullstackopen/part7/bloglist/src/services/blogs.js"],"names":["axios","baseUrl","token","getAll","request","get","then","response","data","setToken","newToken","postBlog","title","author","url","post","headers","Authorization","likeBlog","id","likes","put","deleteBlog","delete","service"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,OAAO,GAAG,YAAhB;AAEA,IAAIC,KAAJ;;AAEA,MAAMC,MAAM,GAAG,MAAM;AACnB,QAAMC,OAAO,GAAGJ,KAAK,CAACK,GAAN,CAAUJ,OAAV,CAAhB;AACA,SAAOG,OAAO,CAACE,IAAR,CAAaC,QAAQ,IAAIA,QAAQ,CAACC,IAAlC,CAAP;AACD,CAHD;;AAKA,MAAMC,QAAQ,GAAIC,QAAD,IAAc;AAC7BR,EAAAA,KAAK,GAAG,YAAYQ,QAApB;AACD,CAFD;;AAIA,MAAMC,QAAQ,GAAG,CAACC,KAAD,EAAQC,MAAR,EAAgBC,GAAhB,KAAwB;AACvC,QAAMV,OAAO,GAAGJ,KAAK,CAACe,IAAN,CAAWd,OAAX,EAAoB;AAAEW,IAAAA,KAAF;AAASC,IAAAA,MAAT;AAAiBC,IAAAA;AAAjB,GAApB,EAA4C;AAC1DE,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAEf;AAAjB;AADiD,GAA5C,CAAhB;AAGA,SAAOE,OAAO,CAACE,IAAR,CAAaC,QAAQ,IAAIA,QAAQ,CAACC,IAAlC,CAAP;AACD,CALD;;AAOA,MAAMU,QAAQ,GAAG,CAACC,EAAD,EAAKC,KAAL,KAAe;AAC9B,QAAMhB,OAAO,GAAGJ,KAAK,CAACqB,GAAN,CAAUpB,OAAO,GAAG,GAAV,GAAgBkB,EAA1B,EAA8B;AAAEC,IAAAA,KAAK,EAAEA,KAAK,GAAG;AAAjB,GAA9B,CAAhB;AACA,SAAOhB,OAAO,CAACE,IAAR,CAAaC,QAAQ,IAAIA,QAAQ,CAACC,IAAlC,CAAP;AACD,CAHD;;AAKA,MAAMc,UAAU,GAAIH,EAAD,IAAQ;AACzB,QAAMf,OAAO,GAAGJ,KAAK,CAACuB,MAAN,CAAatB,OAAO,GAAG,GAAV,GAAgBkB,EAA7B,EAAiC;AAC/CH,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAEf;AAAjB;AADsC,GAAjC,CAAhB;AAGA,SAAOE,OAAO,CAACE,IAAR,CAAaC,QAAQ,IAAIA,QAAQ,CAACC,IAAlC,CAAP;AACD,CALD;;AAOA,MAAMgB,OAAO,GAAG;AACdrB,EAAAA,MADc;AACNM,EAAAA,QADM;AACIE,EAAAA,QADJ;AACcO,EAAAA,QADd;AACwBI,EAAAA;AADxB,CAAhB;AAIA,eAAeE,OAAf","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst setToken = (newToken) => {\n  token = 'bearer ' + newToken\n}\n\nconst postBlog = (title, author, url) => {\n  const request = axios.post(baseUrl, { title, author, url }, {\n    headers: { Authorization: token }\n  })\n  return request.then(response => response.data)\n}\n\nconst likeBlog = (id, likes) => {\n  const request = axios.put(baseUrl + '/' + id, { likes: likes + 1 })\n  return request.then(response => response.data)\n}\n\nconst deleteBlog = (id) => {\n  const request = axios.delete(baseUrl + '/' + id, {\n    headers: { Authorization: token }\n  })\n  return request.then(response => response.data)\n}\n\nconst service = {\n  getAll, setToken, postBlog, likeBlog, deleteBlog\n}\n\nexport default service\n"]},"metadata":{},"sourceType":"module"}